@{
    ViewBag.Title = "Scalable Echo";
}

<script src="~/Scripts/jquery.signalR.js" type="text/javascript"></script>
<script src="signalr/hubs" type="text/javascript"></script>
<script src="~/Scripts/knockout.js" type="text/javascript"></script>
<script src="~/Scripts/echoViewModel.js" type="text/javascript"></script>

<div class="hero-unit">
    <h1>Echo messages</h1>
    <p>All the messages will be modified by a background worker process and pushed back to this page.</p>
    <p><a class="btn btn-primary btn-large">Learn more &raquo;</a></p>
</div>

<div class="row">
    <div class="span6">
        <h2>Send Messages</h2>
        <form class="form-horizontal">
            <fieldset>
                <div class="control-group">
                    <label class="control-label" for="appendedPrependedInput">Message</label>
                    <div class="controls">
                        <div class="input-append">
                            <input class="span3" id="appendedPrependedInput" placeholder="Type something ..." data-bind="value: message"><button class="btn" type="button" data-bind="click: sendMessage">Send!</button>
                        </div>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="appendedPrependedInput">Messages sent</label>
                    <div class="controls">
                        <span class="input-xlarge uneditable-input span3" data-bind="text: messagesSent"></span>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="appendedPrependedInput">Messages received</label>
                    <div class="controls">
                        <span class="input-xlarge uneditable-input span3" data-bind="text: messagesReceived"></span>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="appendedPrependedInput">Heart beat</label>
                    <div class="controls">
                        <span class="input-xlarge uneditable-input span3" data-bind="text: heartState"></span>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
    <div class="span6">
        <h2>Received Messages</h2>
        <table class="table table-striped table-bordered table-condensed">
            <thead><tr><td>Sender</td><td>Message</td></tr></thead>
            <tbody data-bind="foreach: echoMessages()">
                <tr>
                    <td data-bind="text: message" />
                    <td data-bind="text: sender" />
                </tr>
            </tbody>
        </table>
    </div>
</div>